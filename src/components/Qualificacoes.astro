<section id="qualifications-container">
  <header class="section-header">
    <h2>Qualificações</h2>
    <p>Educação e experiência profissional</p>
  </header>

  <div class="qualifications__tabs">
    <button
      class="qualifications__button qualifications__button--active"
      data-target="#work"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path
          d="M20 13c0 5-3.5 7.5-7.66 7.5-1.95 0-2.85-.95-3.48-1.5L6.5 17.15c-.41-.35-.82-.69-1.23-1.01C2.5 13.5 2 11.25 2 9.5 2 5.5 5.5 3 10 3c1.75 0 3.25.5 4.5 1.5l1-1c1.5-1.5 2.5-2 4.5-2v11.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V2.5c0-.83-.67-1.5-1.5-1.5S20 .17 20 1V13zM10 5c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"
        ></path>
      </svg>
      Trabalho
    </button>
    <button class="qualifications__button" data-target="#education">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path
          d="M22 10v5c0 5-2 7-7 7H9c-5 0-7-2-7-7v-5c0-5 2-7 7-7h6c5 0 7 2 7 7z"
        ></path>
        <path
          d="M12 12.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5zM21.65 9.34c-.2-.22-.49-.69-.62-.9.31-.21.51-.62.51-1.09 0-.83-.67-1.5-1.5-1.5-.47 0-.88.2-1.09.51-.21-.13-.68-.42-.9-.62.43-1.11.23-2.48-.88-3.31-.95-.71-2.2-.71-3.15 0-.2.15-.38.31-.54.49L12 3.49l-1.52-.63c-.16-.18-.34-.34-.54-.49-1.11-.83-2.48-.63-3.31.88-.71.95-.71 2.2 0 3.15.15.2.31.38.49.54L6.5 7.48l-.63 1.52c-.18.16-.34.34-.49.54-.83 1.11-.63 2.48.88 3.31.95.71 2.2.71 3.15 0 .2-.15.38-.31.54-.49l1.52.63 1.52-.63c.16.18.34.34.54.49 1.11.83 2.48.63 3.31-.88.71-.95.71-2.2 0-3.15z"
        ></path>
      </svg>
      Educação
    </button>
  </div>

  <div class="qualifications__sections">
    <div
      class="qualifications__content qualifications__content--active"
      id="work"
    >
      <div class="qualifications__data">
        <div class="qualifications__decorator">
          <span class="qualifications__rounder"></span>
          <span class="qualifications__line"></span>
        </div>
        <div class="qualifications__info">
          <h3 class="qualifications__title">
            Professor de Programação e Robótica
          </h3>
          <span class="qualifications__subtitle"
            >Escola de Tecnologia (Estágio)</span
          >
          <div class="qualifications__calendar">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            jan 2023 - dez 2023
          </div>
        </div>
      </div>
    </div>

    <div class="qualifications__content" id="education">
      <div class="qualifications__data">
        <div class="qualifications__decorator">
          <span class="qualifications__rounder"></span>
          <span class="qualifications__line"></span>
        </div>
        <a href="" class="qualifications__link-wrapper">
          <div class="qualifications__info">
            <h3 class="qualifications__title">
              Desenvolvimento de Software Multiplataforma
            </h3>
            <span class="qualifications__subtitle">Fatec Zona Leste</span>
            <div class="qualifications__calendar">fev 2023 - Presente</div>
          </div>
        </a>
      </div>

      <div class="qualifications__data">
        <div class="qualifications__decorator">
          <span class="qualifications__rounder"></span>
          <span class="qualifications__line"></span>
        </div>
        <a
          href="./certificados/BraColTec-PCI.pdf"
          target="_blank"
          rel="noopener noreferrer"
          class="qualifications__link-wrapper"
        >
          <div class="qualifications__info">
            <h3 class="qualifications__title">
              Projeto Colaborativo Internacional (PCI)
            </h3>
            <span class="qualifications__subtitle"
              >Fatec Zona Leste (Extra)</span
            >
            <div class="qualifications__calendar">2023</div>
          </div>
        </a>
      </div>

      <div class="qualifications__data">
        <div class="qualifications__decorator">
          <span class="qualifications__rounder"></span>
          <span class="qualifications__line"></span>
        </div>
        <a
          href="./certificados/CERTIFICADO_COMPETEC.pdf"
          target="_blank"
          rel="noopener noreferrer"
          class="qualifications__link-wrapper"
        >
          <div class="qualifications__info">
            <h3 class="qualifications__title">Programação em Java</h3>
            <span class="qualifications__subtitle"
              >Competec EACH USP (Extra)</span
            >
            <div class="qualifications__calendar">ago 2022 - nov 2022</div>
          </div>
        </a>
      </div>

      <div class="qualifications__data">
        <div class="qualifications__decorator">
          <span class="qualifications__rounder"></span>
        </div>
        <a
          href="#"
          target="_blank"
          rel="noopener noreferrer"
          class="qualifications__link-wrapper"
        >
          <div class="qualifications__info">
            <h3 class="qualifications__title">Desenvolvimento de Software</h3>
            <span class="qualifications__subtitle">Etec Zona Leste</span>
            <div class="qualifications__calendar">jul 2021 - dez 2022</div>
          </div>
        </a>
      </div>
    </div>
  </div>
</section>

<script>
  // LÓGICA DAS ABAS DE QUALIFICAÇÕES
  
  // 1. Dizemos ao TypeScript para selecionar HTMLElements especificamente
  const tabs = document.querySelectorAll<HTMLElement>('.qualifications__button');
  const tabContents = document.querySelectorAll<HTMLElement>('.qualifications__content');

  // 2. Agora o 'tab' é corretamente inferido como HTMLElement
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      // 3. O 'tab.dataset' agora é acessível sem erros
      const targetId = tab.dataset.target;
      if (!targetId) return;

      const target = document.querySelector(targetId);
      if (!target) return;

      // 4. Dizemos ao TS que tabContent também é um HTMLElement
      tabContents.forEach((tabContent: HTMLElement) => {
        tabContent.classList.remove('qualifications__content--active');
      });
      
      target.classList.add('qualifications__content--active');

      // 5. Dizemos ao TS que 't' também é um HTMLElement
      tabs.forEach((t: HTMLElement) => {
        t.classList.remove('qualifications__button--active');
      });

      tab.classList.add('qualifications__button--active');
    });
  });
</script>